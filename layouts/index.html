{{ define "main" }}

<section class="hero" id="hero">

    {{ $hero := resources.GetMatch "assets/imgs/hero.*" }}
    {{ $heroResize := $hero.Resize "800x webp"}}
    <img src="/assets/imgs/home.png" alt="Hero Image" class="hero-image" loading="lazy">

</section>
</br>
Welcome to my webpage! This is for my CSC Final and has lots of neat things to look at.
we have all you could ever want from interesting articles and blogs about things that could
or did happen. for the ease of use and your eyes theres also a dark mode. if you need to
search for anything or are looking for somthing specific you can use the search funtion to find it.

<section class="articles">
    <h1>Articles</h1>
    <hr>
    <div class="articles-grid">
        {{ $articles := where site.RegularPages "Type" "articles" }}
        {{ range $articles }}
        <a href="{{ .RelPermalink }}" class="article-card">
            {{ with .Params.featured_image }}
            <img src="{{ . }}" alt="{{ $.Title }}" class="article-image">
            {{ end }}
            <h2>{{ .Title }}</h2>
            <p>{{ .Summary }}</p>
            {{ if .Params.categories }}
            <p>Category: {{ delimit .Params.categories ", " }}</p>
            {{ end }}
        </a>
        {{ end }}
    </div>
</section>


<section class="blogs">
    <h1>Latest Blogs</h1>
    <hr>

    {{/* Get all blogs and sort by Date safely using time */}}
    {{ $allBlogs := where site.RegularPages "Type" "blogs" }}
    {{ $sortedBlogs := sort $allBlogs ".Date" "desc" }}
    {{ $blogs := first 3 $sortedBlogs }}

    {{ range $blogs }}
    <a href="{{ .RelPermalink }}" class="blog-row">
        {{ with .Params.featured_image }}
        <img src="{{ . }}" alt="{{ $.Title }}" class="blog-row-image">
        {{ end }}
        <div class="blog-row-content">
            <h2>{{ .Title }}</h2>
            <p>{{ .Summary }}</p>
            <p><small>Published on {{ .Date.Format "Jan 2, 2006" }}</small></p>
            {{ if .Params.categories }}
            <p>Category: {{ delimit .Params.categories ", " }}</p>
            {{ end }}
        </div>
    </a>
    {{ end }}
</section>

<style>
.blog-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    background: white;
    border: 1px solid #ddd;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 20px;
    text-decoration: none;
    color: #2a6b6b;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.blog-row:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
}

.blog-row-image {
    width: 300px;
    height: 180px;
    object-fit: cover;
    flex-shrink: 0;
     padding: 15px 20px;
}

.blog-row-content {
    padding: 15px 20px;
    flex: 1;
}

.blog-row-content h2 {
    margin-top: 0;
    margin-bottom: 0.5em;
}

@media (max-width: 768px) {
    .blog-row {
        flex-direction: column;
    }
    .blog-row-image {
        width: 100%;
        height: 200px;
    }
}

.articles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-top: 1em;
}

.article-card {
    display: block;
    background: white;
    border: 1px solid #ddd;
    border-radius: 10px;
    padding: 20px;
    text-decoration: none;
    color: #2a6b6b;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.article-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.article-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 8px 8px 0 0;
    margin-bottom: 15px;
}

.article-card h2 {
    margin-top: 0;
    margin-bottom: 0.5em;
}
</style>

{{ end }}

